<section class="page-header">
  <div class="container">
    <h1>Announcements</h1>
    <p>Important updates and notices from the school</p>
  </div>
</section>

<section class="announcements-main">
  <div class="container">
    <div class="announcements-grid">
      <div class="announcement-card" *ngFor="let announcement of announcements" 
           [class]="'announcement-card ' + getPriorityClass(announcement.priority)"
           (click)="openAnnouncement(announcement)">
        <div class="announcement-header">
          <div class="announcement-category">{{ announcement.category }}</div>
          <div class="announcement-priority" [class]="'priority-badge priority-' + announcement.priority">
            {{ announcement.priority | titlecase }}
          </div>
        </div>
        <div class="announcement-image">
          <img [src]="announcement.image" [alt]="announcement.title" loading="lazy">
        </div>
        <div class="announcement-content">
          <div class="announcement-date">{{ announcement.date | date:'MMM d, yyyy' }}</div>
          <h3>{{ announcement.title }}</h3>
          <p>{{ announcement.content.substring(0, 150) }}...</p>
          <a class="read-more">Read Full Announcement →</a>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="announcement-modal" *ngIf="selectedAnnouncement" (click)="closeAnnouncement()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-btn" (click)="closeAnnouncement()">×</button>
    <div class="modal-header">
      <div class="modal-category">{{ selectedAnnouncement.category }}</div>
      <div class="modal-priority" [class]="'priority-badge priority-' + selectedAnnouncement.priority">
        {{ selectedAnnouncement.priority | titlecase }}
      </div>
    </div>
    <img [src]="selectedAnnouncement.image" [alt]="selectedAnnouncement.title" class="modal-image">
    <div class="modal-body">
      <div class="modal-date">{{ selectedAnnouncement.date | date:'MMMM d, yyyy' }}</div>
      <h2>{{ selectedAnnouncement.title }}</h2>
      <p>{{ selectedAnnouncement.content }}</p>
    </div>
  </div>
</div>

